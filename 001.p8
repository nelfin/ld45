pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- untitle ld45 game
-- by amh
--
-- theme: start from nothing

function _init()
	gravity = 0.1
	px = 64
	py = 64
	psprite = 1
	flash = {}
	flash.x = 0
	flash.y = 0
	flash.t = 0
	flash.duration = 20
	flash.fade = 15
end

function _update60()
	apply_environment()
	move_cursor()
end

function _draw()
	cls()
	draw_effects()
	draw_cursor()
end

--

function apply_environment()
	--py -= gravity
	if (btn(🅾️)) then
		action = true
		flash.x = px
		flash.y = py
	end
	if (action) flash.t += 1
	if (flash.t > flash.duration) then
		action = false
		flash.t = 0
	end
end

function move_cursor()
	if (btn(⬅️)) px -= 1
	if (btn(➡️)) px += 1
	if (btn(⬆️)) py -= 1
	if (btn(⬇️)) py += 1
end

function draw_cursor()
	spr(psprite, px, py)
end

function draw_effects()
	if (flash.t > 0) then
		circfill(flash.x, flash.y, flash.t, 5)
		circfill(flash.x, flash.y, flash.t-1, 6)
 	circfill(flash.x, flash.y, flash.t-4, 5)
		circfill(flash.x, flash.y, flash.t-5, 0)
	end
end

function ease(t)
end
__gfx__
00000000900000000555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005566665500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000005660066500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000005600006500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000005600006500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000005660066500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005566665500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
